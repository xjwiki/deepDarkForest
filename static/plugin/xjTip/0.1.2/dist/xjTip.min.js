/** xjTip(提示标签插件) / V0.1.2 / MIT Licensed / © 2018-2018 XJ.Chen / https://github.com/xjArea/xjTip *///xj.browser(0.4.1) / xj.style(0.3.0)
!function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,B,C,D,E,F;if(typeof xj==b)xj={};else if(typeof xj[a]!=b)return!1;if(d={0:"0.4.1"},e=window,f=navigator,g=f.userAgent,h="firefox",i="chrome",j="flash",xj[a]=d,k=c(document),l=c("html"),m="touch",n="mouse",o="xjMouse",p="mousemove."+o,q="touchstart."+o,r=0,s=0,t=0,u=0,v=0,w=[],x=function(){k.on(p,function(){if(r=s,s=(new Date).getTime(),w[v]=s-r,9>v)v++;else{for(t=0;10>t;t++)u+=w[t];u>1e3?u=v=0:(k.off(p),l.addClass(o),d[n]=1,y())}})},y=function(){k.on(q,function(){k.off(q),l.removeClass(o),s=(new Date).getTime(),d[n]=0,x()})},d[m]="ontouchstart"in e?1:0,d[m]?(s=(new Date).getTime(),d[n]=0,x()):(l.addClass(o),d[n]=1,y()),d.mobile=/mobile|android|iphone|ipad/i.test(g)?1:0,z=0,d[j]=0,"ActiveXObject"in e)try{z=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),z&&(d[j]=parseInt(z.GetVariable("$version").split(" ")[1].split(",")[0]))}catch(A){}else if(f.plugins&&(z=f.plugins["Shockwave Flash"]))for(B=z.description.split(" "),C=0;C<B.length;++C)isNaN(parseInt(B[C]))||(d[j]=parseInt(B[C]));return d.ie=0,d[h]=0,d[i]=0,/firefox/i.test(g)?(d[h]=1,!1):(D=g.match(/msie ([\d.]+)/i),E=/rv:11\.0\) like gecko/i.test(g),F=/edge\/(\d+)/i.test(g),D&&(d.ie=parseInt(D[1])),E&&(d.ie=11),F&&(d.ie=RegExp.$1),d.ie&&(d.ie<=12&&(d.ie12=1),d.ie<=11&&(d.ie11=1),d.ie<=10&&(d.ie10=1),d.ie<=9&&(d.ie9=1),d.ie<=8&&(d.ie8=1),d.ie<=7&&(d.ie7=1),d.ie<=6&&(d.ie6=1)),d[h]||d.ie||(d[i]=1),void 0)}("browser","undefined",jQuery);
!function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(typeof xj==b)xj={};else if(typeof xj[a]!=b)return!1;c={0:"0.3.0"},d=document,e=navigator,f=e.userAgent,g=void 0,h="",i="",j="",xj[a]=c,/(msie ([\d.]+))|(rv:11\.0\) like gecko)|(edge)/i.test(f)?(h="ie",i="-ms-"):/firefox/i.test(f)?(h="ff",i="-moz-"):(h="cr",i="-webkit-"),k="ie"==h?"ms":"ff"==h?"Moz":"webkit",l=d.documentElement.style,m=function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},n=function(a,b){return b==g?m(a)in l?1:m(k+"-"+a)in l?2:0:1!=m(a)in l?0:(j=d.createElement("div"),j.style.cssText=a+":"+b+";",j.style[m(a)]?1:(j.style.cssText=a+":"+i+b+";",j.style[m(a)]?2:0))},o=function(a,b){return b==g?2==n(a)?i+a:a:2==n(a,b)?i+b:b},c.prefix=i,c.support=n,c.complete=o}("style","undefined");
!function(a){var b=xj.browser,c=xj.style,d=window,e=document,f=a(d),g=a(e),h=void 0,i=function(){},j=" ",k="",l="readonly",m="disabled",n="xjTip-",o=function(a){return"string"==typeof a?!0:!1},p=function(a){return"false"===a?!1:!0},q=function(a){clearInterval(a)},r=function(a){return parseInt(a)},s=function(a,b){return Math.min(a,b)},t=function(a,b){return Math.max(a,b)},u={xs:4,sm:4,md:6,lg:8,xl:10},v="filter",w="drop-shadow(0 0 0 #000)",x=c.support(v,w)||c.support(c.prefix+v,w),y=n+(b.ie&&b.ie>12||!b.ie&&x?"drop-shadow":"box-shadow"),z="click",A="hover",B="mouseenter",C="mouseleave",D="focus",E="blur",F="style",G="fixed",H="0px",I="280px",J="auto",K="autoX",L="autoY",M="top",N="top-left",O="top-right",P="right",Q="right-top",R="right-bottom",S="bottom",T="bottom-left",U="bottom-right",V="left",W="left-top",X="left-bottom",Y=n+M,_=n+P,cb=n+S,fb=n+V,ib=Y+j+_+j+cb+j+fb;a.fn.xjTip=function(c){var v,w,x,Z,$,ab,bb,db,eb,gb,hb,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,j={text:k,html:k,node:k,bodyAppend:!0,positionSet:J,className:k,styleText:k,width:J,minWidth:H,maxWidth:I,height:J,minHeight:H,maxHeight:I,align:L,offset:"0,0",color:"black",size:"md",arrow:!0,radius:!0,shadow:!0,ctrlEvent:z,clickClose:!0,followMouse:!1,autoOpen:!1,autoClose:!0,autoForbid:!1,autoIgnore:!0,autoRemove:!0,delayShow:0,delayHide:0,duration:200,easing:"swing",before:i,after:i};return d.xj&&xj.config&&xj.config.xjTip&&a.extend(j,xj.config.xjTip),c&&a.extend(j,c),v=j.text,w=j.html,x=j.node,Z=j.bodyAppend,$=j.positionSet,ab=j.className,bb=j.styleText,db=j.width,eb=j.minWidth,gb=j.maxWidth,hb=j.height,jb=j.minHeight,kb=j.maxHeight,lb=j.align,mb=j.offset,nb=j.color,ob=j.size,pb=j.arrow,qb=j.radius,rb=j.shadow,sb=j.ctrlEvent,tb=j.clickClose,ub=j.followMouse,vb=j.autoOpen,wb=j.autoClose,xb=j.autoForbid,yb=j.autoIgnore,zb=j.autoRemove,Ab=j.delayShow,Bb=j.delayHide,Cb=j.duration,Db=j.easing,Eb=j.before,Fb=j.after,Gb=a("body"),Hb=[],this.each(function(){var Mb,Nb,Ob,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,c="xjTip"+String(Math.random()).slice(2,12),d="."+c,i="#"+c,j=a(this).addClass(c),I=a(),Ib=a(),Jb=a(),Kb=a(),Lb=a(),Pb=j.attr(n+"bodyAppend")||Z,Qb=j.attr(n+"positionSet")||$,Rb=j.attr(n+"className")||ab,Sb=j.attr(n+"styleText")||bb,Tb=j.attr(n+"width")||db,Ub=j.attr(n+"minWidth")||eb,Vb=j.attr(n+"maxWidth")||gb,Wb=j.attr(n+"height")||hb,Xb=j.attr(n+"minHeight")||jb,Yb=j.attr(n+"maxHeight")||kb,Zb=j.attr(n+"align")||lb,$b=j.attr(n+"offset")||mb,_b=j.attr(n+"color")||nb,ac=j.attr(n+"size")||ob,bc=j.attr(n+"arrow")||pb,cc=j.attr(n+"radius")||qb,dc=j.attr(n+"shadow")||rb,ec=j.attr(n+"ctrlEvent")||sb,fc=j.attr(n+"clickClose")||tb,gc=j.attr(n+"followMouse")||ub,hc=j.attr(n+"autoOpen")||vb,ic=j.attr(n+"autoClose")||wb,jc=j.attr(n+"autoForbid")||xb,kc=j.attr(n+"autoIgnore")||yb,lc=j.attr(n+"autoRemove")||zb,mc=j.attr(n+"delayShow")||Ab,nc=j.attr(n+"delayHide")||Bb,oc=j.attr(n+"duration")||Cb,pc=j.attr(n+"easing")||Db;$b=$b?$b.split(","):mb.split(","),Pb=o(Pb)?p(Pb):Z,bc=o(bc)?p(bc):pb,cc=o(cc)?p(cc):qb,dc=o(dc)?p(dc):rb,fc=o(fc)?p(fc):tb,gc=o(gc)?p(gc):ub,hc=o(hc)?p(hc):vb,ic=o(ic)?p(ic):wb,jc=o(jc)?p(jc):xb,kc=o(kc)?p(kc):yb,lc=o(lc)?p(lc):zb,mc=o(mc)?r(mc):Ab,nc=o(nc)?r(nc):Bb,oc=o(oc)?r(oc):Cb,b.touch?(gc=!1,qc=j.attr("type"),rc=j[0].nodeName.toLowerCase(),ec==A?ec=z:ec==D&&("input"!=rc||/button|submit|reset|image/i.test(qc))&&"textarea"!=rc&&(ec=z)):gc&&(ec=A),sc=Zb==K||0==Zb.indexOf(P)||0==Zb.indexOf(V),tc=Zb==L||0==Zb.indexOf(M)||0==Zb.indexOf(S),uc=bc&&sc?u[ac]:0,vc=bc&&tc?u[ac]:0,wc=uc?uc+2:0,xc=vc?vc+2:0,yc=r($b[0]),zc=r($b[1]),Uc=!1,Vc=k,Wc=h,Xc=h,Yc=function(){gc?(Kc=Sc+Gc+yc+10,Lc=Tc+Hc+zc-Jc/2,Kc+Ic+uc>Gc+Ec&&Sc+Gc-Ic-uc-(yc+10)>=Gc?(Kc=Sc+Gc-Ic-uc-(yc+10),I.addClass(fb)):I.addClass(_),Hc>Lc?(bc&&(Nc=-(Hc-Lc+wc),Pc=-(Jc/2)+wc/2-2,Pc>Nc&&(Nc=Pc),Lb.css({marginTop:Nc})),Lc=Hc):Lc+Jc>Hc+Fc?(bc&&(Nc=Lc+Jc-(Hc+Fc)-wc,Rc=Jc/2-(2*wc+wc/2)+2,Nc>Rc&&(Nc=Rc),Lb.css({marginTop:Nc})),Lc=Hc+Fc-Jc):bc&&Lb.css({marginTop:k})):(Kc=Cc+Ac+yc,Lc=Dc+(Bc-Jc)/2+zc,Kc+Ic+uc>Gc+Ec&&Cc-Ic-uc-yc>=Gc?(Kc=Cc-Ic-uc-yc,I.addClass(fb)):I.addClass(_),Jc>Bc&&(Hc>Lc?(bc&&(Nc=-(Hc-Lc+wc),Pc=t(-(Jc/2)+wc/2-2,-(Jc/2)+Bc/2-wc),Pc>Nc&&(Nc=Pc),Lb.css({marginTop:Nc})),Lc=Hc,Lc>Dc&&(Lc=Dc)):Lc+Jc>Hc+Fc?(bc&&(Nc=Lc+Jc-(Hc+Fc)-wc,Rc=s(Jc/2-(2*wc+wc/2)+2,Jc/2-Bc/2-wc),Nc>Rc&&(Nc=Rc),Lb.css({marginTop:Nc})),Lc=Hc+Fc-Jc,Dc+Bc>Jc+Lc&&(Lc=Bc+Dc-Jc)):bc&&Lb.css({marginTop:k})))},Zc=function(){gc?(Kc=Sc+Gc+yc-Ic/2,Lc=Tc+Hc-Jc-vc-zc-10,Hc>Lc?(Lc=Tc+Hc+zc+10,I.addClass(cb)):I.addClass(Y),Gc>Kc?(bc&&(Mc=-(Gc-Kc+xc),Oc=-(Ic/2)+xc/2-2,Oc>Mc&&(Mc=Oc),Lb.css({marginLeft:Mc})),Kc=Gc):Kc+Ic>Gc+Ec?(bc&&(Mc=Kc+Ic-(Gc+Ec)-xc,Qc=Ic/2-(2*xc+xc/2)+2,Mc>Qc&&(Mc=Qc),Lb.css({marginLeft:Mc})),Kc=Gc+Ec-Ic):bc&&Lb.css({marginLeft:k})):(Kc=Cc+(Ac-Ic)/2+yc,Lc=Dc-Jc-vc-zc,Dc-Lc>Dc-Hc?(Lc=Dc+Bc+zc,I.addClass(cb)):I.addClass(Y),Ic>Ac&&(Gc>Kc?(bc&&(Mc=Kc-Gc-xc,Oc=t(-(Ic/2)+xc/2-2,-(Ic/2)+Ac/2-xc),Oc>Mc&&(Mc=Oc),Lb.css({marginLeft:Mc})),Kc=Gc,Kc>Cc&&(Kc=Cc)):Kc+Ic>Gc+Ec?(bc&&(Mc=Kc+Ic-(Gc+Ec)-xc,Qc=s(Ic/2-(2*xc+xc/2)+2,Ic/2-Ac/2-xc),Mc>Qc&&(Mc=Qc),Lb.css({marginLeft:Mc})),Kc=Gc+Ec-Ic,Cc+Ac>Ic+Kc&&(Kc=Cc+Ac-Ic)):bc&&Lb.css({marginLeft:k})))},$c=function(){gc?(0==Zb.indexOf(M)?Lc=Tc+Hc-Jc-zc-10:0==Zb.indexOf(P)?Kc=Sc+Gc+yc+10:0==Zb.indexOf(S)?Lc=Tc+Hc+zc+10:0==Zb.indexOf(V)&&(Kc=Sc+Gc-Ic-yc-10),Zb==N||Zb==T?Kc=Sc+Gc+yc:Zb==M||Zb==S?Kc=Sc+Gc-Ic/2+yc:Zb==O||Zb==U?Kc=Sc+Gc-Ic+yc:Zb==W||Zb==Q?Lc=Tc+Hc+zc:Zb==V||Zb==P?Lc=Tc+Hc-Jc/2+zc:(Zb==X||Zb==R)&&(Lc=Tc+Hc-Jc+zc)):(0==Zb.indexOf(M)?Lc=Dc-Jc-zc:0==Zb.indexOf(P)?Kc=Cc+Ac+yc:0==Zb.indexOf(S)?Lc=Dc+Bc+zc:0==Zb.indexOf(V)&&(Kc=Cc-Ic-yc),Zb==N||Zb==T?Kc=Cc+yc:Zb==M||Zb==S?Kc=Cc+(Ac-Ic)/2+yc:Zb==O||Zb==U?Kc=Cc+Ac-Ic+yc:Zb==W||Zb==Q?Lc=Dc+zc:Zb==V||Zb==P?Lc=Dc+(Bc-Jc)/2+zc:(Zb==X||Zb==R)&&(Lc=Dc+Bc-Jc+zc))},_c=function(){var a=I.clone().empty().removeAttr("id").css({visibility:"hidden"});Gb.append(a),I.css({top:H,left:H,width:J,height:J}),(Zb==K||Zb==L)&&I.removeClass(ib),Ac=j.outerWidth(),Bc=j.outerHeight(),Cc=j.offset().left,Dc=j.offset().top,Ec=f.width(),Fc=f.height(),Gc=f.scrollLeft(),Hc=f.scrollTop(),Ic=I.outerWidth(),Jc=I.outerHeight(),Zb==K||Zb==L?I.css({width:Ic+uc,height:Jc+vc}):I.css({width:Ic,height:Jc}),Zb==K?Yc():Zb==L?Zc():$c(),Vc!=G?I.css({left:Kc,top:Lc}):I.css({left:Kc-Gc,top:Lc-Hc}),a.remove()},ad={that:j,getThis:function(){return j},getTip:function(){return I},getWrap:function(){return Ib},getMain:function(){return Jb},getInner:function(){return Kb},getArrow:function(){return Lb},resize:function(){_c()},destroy:function(a){a?j.remove():j.off(d),I.off(d),ad.hide()},hide:function(){I.stop(!0),setTimeout(function(){Uc=!1}),I.delay(nc+50).animate({opacity:0},oc,pc,function(){I.remove(),f.off(d),g.off(d)})},show:function(){if(I.stop(!0),setTimeout(function(){Uc=!0}),a(i).length)return _c(),I.animate({opacity:1},oc,pc),!1;if(jc&&(j.hasClass(l)||j.prop(l)||j.attr(l)||j.hasClass(m)||j.prop(m)||j.attr(m)))return ad.hide(),!1;if(Mb=j.attr(n+"text")||v,Nb=j.attr(n+"html")||w,Ob=j.attr(n+"node")||x,Mb||Nb||!Ob||(Wc=/\$\(this\)/i.test(Ob)?j.find(Ob.replace(/\$\(this\)/i,k)):a(Ob)),kc){if(!(Mb||Nb||Ob))return ad.hide(),!1;if(Ob&&!Wc.length)return ad.hide(),!1}I=a('<div class="xjTip" id="'+c+'"></div>'),Ib=a('<div class="xjTip-wrap"></div>'),Jb=a('<div class="xjTip-main"></div>'),Kb=a('<div class="xjTip-inner"></div>'),Lb=a('<div class="xjTip-arrow"></div>'),Jb.append(Kb),Ib.append(Jb),Ib.append(Lb),I.append(Ib),Mb?Kb.text(Mb):Nb?Kb.html(Nb):Wc&&Kb.html(Wc.html()),Rb&&I.addClass(Rb),Sb&&I.attr(F,Sb),"black"!=_b&&I.addClass(n+_b),"md"!=ac&&I.addClass(n+ac),-1==Zb.indexOf(J)&&I.addClass(n+Zb),bc||I.addClass(n+"no-arrow"),cc||I.addClass(n+"no-radius"),dc&&I.addClass(y),Tb!=J&&Jb.css({width:r(Tb)-uc}),Wb!=J&&Jb.css({height:r(Wb)-vc}),Ub!=H&&Jb.css({minWidth:r(Ub)-uc}),Xb!=H&&Jb.css({minHeight:r(Xb)-vc}),Jb.css({maxWidth:r(Vb)-uc}),Jb.css({maxHeight:r(Yb)-vc}),Eb(ad),Pb?Gb.append(I):j.before(I.css({position:G})),Qb!=J&&I.css({position:Qb}),Vc=I.css("position"),Fb(ad),_c(),f.on("resize"+d,function(){_c()}),f.on("scroll"+d,function(){_c()}),I.delay(mc).animate({opacity:1},oc,pc),lc&&(q(Xc),Xc=setInterval(function(){e.getElementById(c)||q(Xc),e.getElementsByClassName(c).length||(q(Xc),ad.destroy())},500)),ec==z&&(ic&&g.on(z+d,function(){Uc&&ad.hide()}),0==fc&&I.on(z+d,function(){Uc=!1,setTimeout(function(){Uc=!0})})),ec==A&&(I.on(B+d,function(){ad.show()}),ic&&I.on(C+d,function(){ad.hide()}),fc&&I.on(z+d,function(){ad.hide()})),gc&&g.on("mousemove"+d,function(a){Sc=a.clientX,Tc=a.clientY,_c()})}},ec==z&&j.on(z+d,function(){Uc||ad.show()}),ec==A&&(j.on(B+d,function(a){gc&&(Sc=a.clientX,Tc=a.clientY),ad.show()}),ic&&j.on(C+d,function(){ad.hide()})),ec==D&&(j.on(D+d,function(){ad.show()}),ic&&j.on(E+d,function(){ad.hide()})),hc&&ad.show(),Hb.push(ad)}),1==this.length?Hb[0]:Hb}}(jQuery);